### Диаграмма классов

```mermaid
classDiagram

    class User{
        -uuid ID
        -string FirstName
        -string LastName
        -string Login
        -string Password
        -string Email
        -Role Role   
    }
    class Role{
        -uuid ID
        -string Description
    }
    
    class StockOrder{
        -uuid ID
        -string Date
        -string OperationType
        -list<OperationLineItem>
        -user User
            }
        class OperationLineItem{
-int quantity
-item Product
            }
    
    class Product{
        -uuid ID
        -string Name
        -string Description
        -int inStock
        -int Price
		-string Barcode
		-boolean Discrepancy
    }
    
        class Controller {
        +makeOperation()
        +getOperation(id)
        +getAllOperation(params)
        +deleteOpetation(id)
        +findProductByBarcode(barcode)
    }
    
    User  --  StockOrder : operation
    User  --  Role : has
    StockOrder  --  OperationLineItem : modify
    OperationLineItem  --  Product : modify
```

### Use case для основного релиза MVP

Нужно по шагам расписать какой-то юскейс с альтернативами и исключениями, и по нему построить диаграмму последовательности. кейс Провести складскую операцию *приход или расход)

| Источник: Business Use Case Управление складскими операциями|  
|--|
| **Название:** UC 1.1 Провести приходную складской операции  |
| **Действующее лицо** Работник склада  |
| **Предусловия**  Пользователь авторизован в системе и имеет права на создание приходной складской операции  |
| **Триггер** Работник склада получил товарную накладную |
| **Постусловие** Приходная складская операция проведена: тип операции, наименование, код товара, количество товара сохранены в системе. Информация об остатках обновлена и сгенерировано событие об изменении остатка товара  |
| **Основной поток** | 
| 1. **Пользователь** выбирает функцию Создание приходной складской операции  |
| 2. **Система** выводит **форму** [Создание приходной складской операции] для ввода информации. В форме уже заполнены значения, недоступные для изменения: <**Тип операции** = Приход>,  <**Дата** = Текущая дата>,  <**Ответственный** = Текущий авторизованный пользователь> |
| 3. **Пользователь** вносит данные о товаре, который он принимает, а именно считывает <штрих код товара>  |
| 4. **Система** ищет в справочнике товаров элемент по штрих-коду. Товар найден.  Система добавляет товар в состав товаров и отображает на экране: <Наименование товара>,    <Цена>  |
| 5.**Пользователь** вводит количество товара |
| 6. Повтор п. 3-5 для каждого товара из накладной |
| 7. **Пользователь** выбирает функцию Сохранить данные |
| 8. **Система** убеждается в полноте данных, введенных пользователем |
| 9. **Система** сохраняет введенные пользователем данные |
| 10. **Система** сообщает о успешном завершении операции |
| **Альтернативные потоки** | 
| **4а. Товар по штрих-коду не найден в системе** |
|		4а1. Система предлагает ввести новый товар в систему. UC-2.1 “Добавление товара” |
|		4а2 Переход на п. 5 основного сценария |
| **7a. Данные по количеству в накладной и фактическому количеству не совпадают** |
| 		7а1.Пользователь устанавливает флаг Есть расхождения = Истина |
| 7а2.Переход на п.7 основного сценария |
| **9a. Данные не введены** |
| 9а1 Система обнаруживает обязательные поля, в которые пользователь не ввел данные |
| 9а2 Система оповещает пользователя об ошибке |
| 9а3 Выполнение сценария возвращает в основной поток в п.7 |
| **9б. Данные введены некорректно** |
| 9б1 Система обнаруживает поля, в которые пользователь ввел некорректные данные |
| 9б2 Система оповещает пользователя об ошибке |
| 9б3 Выполнение сценария возвращается в основной поток в п.7 |
| **10а. Ошибка обращения в БД** |
| 10а1 Система оповещает пользователя об ошибке при обращении к БД |
| 10а2 Завершение выполнения сценария |

Рисуй диаграмму последовательности, выделяй операции api. Для расходной операции UC пиши по образцу

```mermaid
sequenceDiagram
participant R as Работник склада
participant S as Система
R ->> S: Выбрать функцию Создание приходной складской операции
S -->> R: Вывести форму [Создание приходной складской операции]
R ->> S: Сканировать штрих код товара
alt товар найден
    S -->> R: Отобразить информацию о товаре
    R ->> S: Ввести количество товара
    R ->> S: Выбрать функцию Сохранить данные
    alt данные введены некорректно
        S -->> R: Оповестить об ошибке
    else данные не введены
        S -->> R: Оповестить об ошибке
    else все данные введены корректно
        S -->> R: Сохранить данные
        S -->> R: Сообщить об успешном завершении операции
    end
else товар не найден
    S -->> R: Предложить ввести новый товар в систему
end
alt ошибка обращения в БД
    S -->> R: Оповестить об ошибке при обращении к БД
end
```
